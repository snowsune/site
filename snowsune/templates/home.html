{% extends "base.html" %}
{% load static %}
{% load comic_tags %}

{% block title %}Home - Snowsune.net{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/comics.css' %}">
{% endblock %}

{% block content %}
<h1>Welcome to my site!!</h1>
<p>A couple things up front.. I am NOT good at web design!</p>
<p>I'm also pretty disorganized in general!</p>

<p>A lot of things are in motion here but I still hope to have resources and
    tools that make my site worth visiting!</p>

<p>Consider joining my <a href="{{ discord_invite }}">discord</a> by the way! That's the best
    place to get up-to-date information!</p>

<!-- Latest Content Section -->
<div class="latest-content-grid">
    <!-- Latest Comic Section -->
    <section class="latest-comic-section">
        <h2>Latest Comic</h2>
        <div class="comic-frame-wrapper">
            {% comic_frame size='small' show_description=True %}
        </div>
        <p class="comic-section-footer">
            <a href="{% url 'comics:comic_home' %}">View all comics →</a>
        </p>
    </section>

    <!-- Latest Blog Posts Section -->
    {% if latest_posts %}
    <section class="latest-blog-posts">
        <h2>Latest Blog Posts</h2>
        {% for post in latest_posts %}
        <article class="blog-preview">
            {% if post.featured_image %}
            <div class="blog-preview-image">
                <img src="{{ post.featured_image.url }}" alt="{{ post.title }}" loading="lazy">
            </div>
            {% endif %}
            <div class="blog-preview-content">
                <h3><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></h3>
                <div class="blog-meta">
                    <span class="blog-date">{{ post.display_date|date:"F j, Y" }}</span>
                    {% if post.tags.exists %}
                    <span class="blog-tags">
                        {% for tag in post.tags.all %}
                        <span class="tag">{{ tag.name }}</span>
                        {% endfor %}
                    </span>
                    {% endif %}
                </div>
                {% if post.excerpt %}
                <p class="blog-excerpt">{{ post.excerpt }}</p>
                {% endif %}
                <a href="{{ post.get_absolute_url }}" class="read-more">Read More →</a>
            </div>
        </article>
        {% if not forloop.last %}
        <hr class="blog-post-divider">
        {% endif %}
        {% endfor %}
        <p class="blog-section-footer">
            <a href="{% url 'blog:blog_list' %}">View all blog posts →</a>
        </p>
    </section>
    {% endif %}
</div>
{% endblock %}

{% block sidebar %}
<h2>Games</h2>
<ul>
    <li><a href="https://play.snowsune.net/">Minecraft Server</a></li>
    <li><a href="https://factorio.snowsune.net/">Factorio Server</a></li>
</ul>

<h2>Tools</h2>
<ul>
    <li><a href="https://booru.kitsunehosting.net/">BixiBooru</a></li>
    <li><a href="https://size-diff.snowsune.net/">Size-Diff</a></li>
    <li><a href="{% url 'commorganizer' %}">Commission Organizer</a></li>
</ul>

{% if latest_posts %}
<h2>Recent Posts</h2>
<ul>
    {% for post in latest_posts %}
    <li><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></li>
    {% endfor %}
</ul>
{% endif %}
{% endblock %}