{% extends "base.html" %}
{% load static %}
{% load comic_tags %}

{% block title %}Snowsune.net - Vixi's Hub for Webcomics, Tools & Projects{% endblock %}

{% block meta_description %}Snowsune.net - Webcomics, Projects, Foxes and more!{% endblock %}

{% block meta_keywords %}Snowsune, Vixi, Vixi Argorrok, webcomics, furry art, commission organizer, creative tools,
furry community, webcomic publishing, art tools, furry website, furry comics, digital art, character art, discord
server, hangout, community tools, furry tools, art commission, thank you tracker, furry art tools, web development,
creative projects, furry community hub{% endblock %}

{% block og_title %}Snowsune.net - Webcomics, Projects, Foxes and more!{% endblock %}

{% block og_description %}Snowsune.net - Webcomics, Projects, Foxes and more!{% endblock %}

{% block og_image %}{% static 'placeholders/home_preview.png' %}{% endblock %}

{% block twitter_title %}Snowsune.net - Webcomics, Projects, Foxes and more!{% endblock %}

{% block twitter_description %}Snowsune.net - Webcomics, Projects, Foxes and more!{% endblock %}

{% block twitter_image %}{% static 'placeholders/home_preview.png' %}{% endblock %}
{% block og_image_alt %}Snowsune.net - Vixi's Hub for Webcomics, Tools & Projects{% endblock %}
{% block twitter_image_alt %}Snowsune.net - Vixi's Hub for Webcomics, Tools & Projects{% endblock %}
{% block meta_subject %}Furry Art, Webcomics, Creative Tools, Community Hub{% endblock %}
{% block meta_category %}Art, Comics, Tools, Community{% endblock %}
{% block schema_description %}Creative hub for webcomics, furry art tools, and community resources{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/comics.css' %}">
<link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.css" rel="stylesheet">
<link rel="stylesheet" href="{% static 'css/calendar.css' %}">
{% endblock %}

{% block extra_head %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "Snowsune.net",
  "description": "Creative hub for webcomics, furry art tools, and community resources",
  "url": "https://snowsune.net",
  "author": {
    "@type": "Person",
    "name": "Vixi",
    "url": "https://snowsune.net"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Snowsune",
    "url": "https://snowsune.net"
  },
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://snowsune.net/search?q={search_term_string}",
    "query-input": "required name=search_term_string"
  },
  "sameAs": [
    "{{ discord_invite }}"
  ]
}
</script>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "CreativeWork",
  "name": "Snowsune Webcomics",
  "description": "Collection of webcomics and creative content",
  "creator": {
    "@type": "Person",
    "name": "Vixi"
  },
  "url": "{% url 'comics:comic_home' %}",
  "genre": "Webcomic",
  "audience": "Furry Community"
}
</script>
{% endblock %}

{% block content %}
<header class="page-header">
    <h1>Welcome to Snowsune.net!</h1>
    <p class="lead">My own website! I've got tools, webcomics, projects, art, personal things, blogs, and plenty of
        other furry stuff!
    </p>

    <p><strong>You can always contact me by joining my <a href="{{ discord_invite }}" class="discord-link">Discord
                community</a> or emailing me at <a href="mailto:vixi@snowsune.net">vixi@snowsune.net</a>!</strong></p>
</header>

<!-- Latest Content Section -->
<div class="latest-content-grid">
    <!-- Latest Comic Section -->
    <section class="latest-comic-section">
        <h2>Read the webcomic!</h2>
        <div class="comic-frame-wrapper">
            {% comic_frame size='small' show_description=True %}
        </div>
    </section>

    <!-- Latest Blog Posts Section -->
    {% if latest_posts %}
    <section class="latest-blog-posts">
        <h2>Read the blog!</h2>
        {% for post in latest_posts %}
        <article class="blog-preview">
            {% if post.featured_image %}
            <div class="blog-preview-image">
                <img src="{{ post.featured_image.url }}" alt="{{ post.title }}" loading="lazy">
            </div>
            {% endif %}
            <div class="blog-preview-content">
                <h3><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></h3>
                <div class="blog-meta">
                    <span class="blog-date">{{ post.display_date|date:"F j, Y" }}</span>
                    {% if post.tags.exists %}
                    <span class="blog-tags">
                        {% for tag in post.tags.all %}
                        <span class="tag">{{ tag.name }}</span>
                        {% endfor %}
                    </span>
                    {% endif %}
                </div>
                {% if post.excerpt %}
                <p class="blog-excerpt">{{ post.excerpt }}</p>
                {% endif %}
                <a href="{{ post.get_absolute_url }}" class="read-more">Read More →</a>
            </div>
        </article>
        {% if not forloop.last %}
        <hr class="blog-post-divider">
        {% endif %}
        {% endfor %}
        <p class="blog-section-footer">
            <a href="{% url 'blog:blog_list' %}">View all blog posts →</a>
        </p>
    </section>
    {% endif %}
</div>
{% endblock %}

{% block sidebar %}
<h2>Games</h2>
<ul>
    <li><a href="https://play.snowsune.net/">Minecraft Server</a></li>
    <li><a href="https://factorio.snowsune.net/">Factorio Server</a></li>
</ul>

<h2>Tools</h2>
<ul>
    <li><a href="https://booru.snowsune.net/">BixiBooru</a></li>
    <li><a href="https://size-diff.snowsune.net/">Size-Diff</a></li>
    <li><a href="{% url 'commorganizer' %}">Commission Organizer</a></li>
</ul>

{% if latest_posts %}
<h2>Recent Posts</h2>
<ul>
    {% for post in latest_posts %}
    <li><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></li>
    {% endfor %}
</ul>
{% endif %}

<div class="calendar-widget">
    <h2>Calendar</h2>
    <div id="homepage-calendar"></div>
    <p class="calendar-widget-footer">
        <a href="{% url 'calendar' %}">View full calendar →</a>
    </p>
</div>
{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.js"></script>
<script>
    // Set the API URL for the calendar script
    window.calendarEventsApiUrl = '{% url "calendar_events_api" %}';
</script>
<script src="{% static 'js/calendar.js' %}"></script>
{% endblock %}